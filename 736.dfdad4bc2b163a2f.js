"use strict";(self.webpackChunksample=self.webpackChunksample||[]).push([[736],{4736:(O,u,r)=>{r.r(u),r.d(u,{MastermindComponent:()=>V});var h=r(177),l=r(9417),f=r(8834),C=r(9631),_=r(3522),t=r(4438),g=r(1413),F=r(152);let x=(()=>{class o{constructor(){this.debounceTime=500,this.debounceClick=new t.bkB,this.clicks=new g.B}ngOnInit(){this.subscription=this.clicks.pipe((0,F.B)(this.debounceTime)).subscribe(e=>this.debounceClick.emit(e))}ngOnDestroy(){this.subscription?.unsubscribe(),console.warn("unsubscribed from debounce directive")}clickEvent(e){e.preventDefault(),e.stopPropagation(),this.clicks.next(e)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","appDebounceClick",""]],hostBindings:function(i,n){1&i&&t.bIt("click",function(c){return n.clickEvent(c)})},inputs:{debounceTime:"debounceTime"},outputs:{debounceClick:"debounceClick"},standalone:!0})}return o})(),y=(()=>{class o{transform(e){return new Array(e).fill(1)}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275pipe=t.EJ8({name:"fill",type:o,pure:!0,standalone:!0})}return o})();var v=r(6703);function k(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const e=s.$implicit,i=t.XpG().$implicit;t.R7$(),t.JRh(i.combination.items[e-1])}}function T(o,s){1&o&&t.EFF(0," no match ")}function B(o,s){1&o&&(t.j41(0,"li",3),t.EFF(1,"\u26ab"),t.k0s())}function j(o,s){1&o&&(t.j41(0,"li",4),t.EFF(1,"\u26aa"),t.k0s())}function R(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",1),t.EFF(2),t.k0s(),t.Z7z(3,k,2,1,"td",null,t.fX1),t.DNE(5,T,1,0),t.j41(6,"td",2),t.Z7z(7,B,2,0,"li",3,t.fX1),t.nI1(9,"fill"),t.Z7z(10,j,2,0,"li",4,t.fX1),t.nI1(12,"fill"),t.k0s()()),2&o){const e=s.$implicit,i=s.$index,n=t.XpG();t.R7$(2),t.JRh(i+1),t.R7$(),t.Dyx(n.util.numberArray(1,n.board.fields)),t.R7$(2),t.vxM(5,e.correct||e.correctColors?-1:5),t.R7$(2),t.Dyx(t.bMT(9,2,e.correct)),t.R7$(3),t.Dyx(t.bMT(12,4,e.correctColors))}}function E(o,s){1&o&&(t.j41(0,"td"),t.EFF(1,"\xa0"),t.k0s())}function $(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"\xa0"),t.k0s(),t.Z7z(3,E,2,0,"td",null,t.fX1),t.j41(5,"td"),t.EFF(6,"\xa0"),t.k0s()()),2&o){const e=t.XpG();t.R7$(3),t.Dyx(e.util.numberArray(1,e.board.fields))}}function M(o,s){if(1&o&&(t.j41(0,"option"),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.R7$(),t.JRh(e)}}function D(o,s){if(1&o){const e=t.RV6();t.j41(0,"td")(1,"select",6),t.mxI("ngModelChange",function(n){const m=t.eBV(e).$implicit,c=t.XpG(2);return t.DH7(c.combination.items[m-1],n)||(c.combination.items[m-1]=n),t.Njj(n)}),t.Z7z(2,M,2,1,"option",null,t.fX1),t.k0s()()}if(2&o){const e=s.$implicit,i=t.XpG(2);t.R7$(),t.R50("ngModel",i.combination.items[e-1]),t.R7$(),t.Dyx(i.util.numberArray(1,i.board.colors))}}function G(o,s){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2,"\xa0"),t.k0s(),t.Z7z(3,D,4,1,"td",null,t.fX1),t.j41(5,"td")(6,"button",5),t.bIt("debounceClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onGuess())}),t.EFF(7,"Guess"),t.k0s()()()}if(2&o){const e=t.XpG();t.R7$(3),t.Dyx(e.util.numberArray(1,e.board.fields)),t.R7$(3),t.Y8G("debounceTime",1e3)}}function X(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const e=s.$implicit,i=t.XpG(2);t.R7$(),t.JRh(i.board.secretCombination.items[e-1])}}function A(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2,"Secret"),t.k0s(),t.Z7z(3,X,2,1,"td",null,t.fX1),t.j41(5,"td"),t.EFF(6,"\xa0"),t.k0s()()),2&o){const e=t.XpG();t.R7$(3),t.Dyx(e.util.numberArray(1,e.board.fields))}}function w(o,s){1&o&&(t.j41(0,"tr")(1,"td",7),t.EFF(2,"Game lost"),t.k0s()())}function z(o,s){1&o&&(t.j41(0,"tr")(1,"td",7),t.EFF(2,"Game won"),t.k0s()())}function I(o,s){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.newGame())}),t.EFF(2,"Play again"),t.k0s()()}}let N=(()=>{class o{constructor(e){this.util=e,this.board={maxTries:7,fields:4,colors:6,guesses:[],secretCombination:{items:[]}},this.combination={items:[]},this.gameWon=!1,this.gameLost=!1,this.correct=[],this.letters=[],this.tally1=[],this.tally2=[],this.removeIndex=[],this.match=0,this.count=0}ngOnInit(){console.log("board view created"),this.board.secretCombination=this.createSecretCombination();for(let e=0;e<this.board.fields;e++)this.combination.items[e]=1}newGame(){console.log("board view created"),this.board.secretCombination=this.createSecretCombination();for(let e=0;e<this.board.fields;e++)this.combination.items[e]=1;this.board.maxTries=7,this.board.fields=4,this.board.colors=6,this.board.guesses=[],this.gameWon=!1,this.gameLost=!1}onGuess(){console.log("guessed",this.combination);var e=this.evaluateGuess(this.combination);(1+this.board.guesses.length).toString(),e.correct==this.board.fields&&(this.gameWon=!0),this.board.guesses.push(e),!this.gameWon&&this.board.guesses.length==this.board.maxTries&&(this.gameLost=!0)}evaluateGuess(e){console.log("secret: ",this.board.secretCombination);var i={items:[]};this.match=0,this.count=0,this.letters=[];for(let a=0;a<this.board.fields;a++)i.items[a]=e.items[a],this.letters[a]=i.items[a],this.correct[a]=this.board.secretCombination.items[a];this.removeIndex=[],this.letters.forEach((a,b)=>{a==this.correct[b]&&(this.removeIndex.push(b),this.count++)}),this.removeArrayValues(this.letters,this.removeIndex),this.removeArrayValues(this.correct,this.removeIndex),console.log("after processing phase 1...black pegs = ",this.count),this.tally1=[],this.tally2=[];for(var n=1;n<1+this.board.colors;n++){for(var m=0,c=0,d=0;d<this.correct.length;d++)n==this.correct[d]&&m++,n==this.letters[d]&&c++;this.tally1.push(m),this.tally2.push(c)}for(n=0;n<6;n++)this.tally1[n]&&this.tally2[n]&&(this.match++,console.log(this.tally1[n],this.tally2[n],n)),this.tally1[n]>1&&this.tally2[n]>1&&this.match++;var p={combination:i,correct:this.count,correctColors:this.match};return console.log("Guess:",p),p}createSecretCombination(){var e={items:[]};for(let i=0;i<this.board.fields;i++)e.items.push(this.randomNumber(this.board.colors));return e}randomNumber(e){return Math.floor(Math.random()*e)+1}removeArrayValues(e,i){for(var n=(i=i.sort()).length-1;n>=0;n--)e.splice(i[n],1);return e}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(v.Q))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["board"]],standalone:!0,features:[t.aNF],decls:18,vars:5,consts:[["colspan","4"],[2,"color","red"],[1,"flex-container"],[2,"color","black"],[2,"color","white"],["appDebounceClick","","mat-raised-button","","color","primary",3,"debounceClick","debounceTime"],["size","6",2,"width","50px","font-size","20px",3,"ngModelChange","ngModel"],["colspan","6"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(t.j41(0,"table")(1,"tr")(2,"th"),t.EFF(3,"Tries"),t.k0s(),t.j41(4,"th",0),t.EFF(5,"Combination"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Result"),t.k0s()(),t.Z7z(8,R,13,6,"tr",null,t.fX1),t.Z7z(10,$,7,0,"tr",null,t.fX1),t.DNE(12,G,8,1,"tr")(13,A,7,0,"tr")(14,w,3,0,"tr")(15,z,3,0,"tr"),t.k0s(),t.nrm(16,"br"),t.DNE(17,I,3,0,"div")),2&i&&(t.R7$(8),t.Dyx(n.board.guesses),t.R7$(2),t.Dyx(n.util.numberArray(n.board.guesses.length+1,n.board.maxTries)),t.R7$(2),t.vxM(12,n.gameWon||n.gameLost?-1:12),t.R7$(),t.vxM(13,n.gameLost?13:-1),t.R7$(),t.vxM(14,n.gameLost?14:-1),t.R7$(),t.vxM(15,n.gameWon?15:-1),t.R7$(2),t.vxM(17,n.gameWon||n.gameLost?17:-1))},dependencies:[h.MD,l.YN,l.xH,l.y7,l.wz,l.BC,l.vS,f.Hl,f.$z,C.fS,_.Ve,x,y],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;background:gray;flex-direction:row;justify-content:left;padding:0;margin:1px;list-style:none;width:60px}@media only screen and (max-width: 1000px){.flex-container[_ngcontent-%COMP%]{width:75px}}"]})}return o})(),V=(()=>{class o{constructor(){this.title="mastermind"}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-mastermind"]],standalone:!0,features:[t.aNF],decls:9,vars:0,consts:[[2,"text-align","center"],["role","main",1,"content"]],template:function(i,n){1&i&&(t.j41(0,"header")(1,"span",0)(2,"h2"),t.EFF(3,"Mastermind"),t.k0s()()(),t.j41(4,"div",1),t.nrm(5,"board"),t.j41(6,"footer")(7,"h5"),t.EFF(8,"KSC - 22 Feb 2024 version"),t.k0s()()())},dependencies:[h.MD,N],styles:[".content[_ngcontent-%COMP%] {\n      display: flex;\n      \n      flex-direction: column;\n      align-items: center;\n    }\n  \n    footer[_ngcontent-%COMP%] {\n      margin-top: 8px;\n      display: flex;\n      align-items: center;\n      line-height: 20px;\n    }\n  \n    footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      display: flex;\n      align-items: center;\n    }"]})}return o})()}}]);