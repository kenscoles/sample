"use strict";(self.webpackChunksample=self.webpackChunksample||[]).push([[795],{9795:(w,h,a)=>{a.r(h),a.d(h,{MastermindComponent:()=>O});var d=a(6814),m=a(6223),p=a(2296),_=a(2032),b=a(5738),t=a(5879);function x(o,r){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.combination.items[e-1])}}function C(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"\xa0"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,x,2,1,"td",1),t.TgZ(6,"td"),t._uU(7),t.qZA()()),2&o){const e=r.$implicit,n=r.index,s=t.oxw();t.xp6(4),t.Oqu(n+1),t.xp6(1),t.Q6J("ngForOf",s.numberArray(1,s.board.fields)),t.xp6(2),t.AsE("",e.correct,"/",e.correctColors,"")}}function Z(o,r){1&o&&(t.TgZ(0,"td"),t._uU(1,"\xa0"),t.qZA())}function T(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"\xa0"),t.qZA(),t.YNc(3,Z,2,0,"td",1),t.TgZ(4,"td"),t._uU(5,"\xa0"),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.numberArray(1,e.board.fields))}}function A(o,r){if(1&o&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function v(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td")(1,"select",4),t.NdJ("ngModelChange",function(s){const u=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.combination.items[u-1]=s)}),t.YNc(2,A,2,1,"option",1),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.combination.items[e-1]),t.xp6(1),t.Q6J("ngForOf",n.numberArray(1,n.board.colors))}}function y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2,"\xa0"),t.qZA(),t.YNc(3,v,3,2,"td",1),t.TgZ(4,"td")(5,"button",3),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onGuess())}),t._uU(6,"Guess"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.numberArray(1,e.board.fields))}}function U(o,r){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.board.secretCombination.items[e-1])}}function q(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"Secret"),t.qZA(),t.YNc(3,U,2,1,"td",1),t.TgZ(4,"td"),t._uU(5,"\xa0"),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.numberArray(1,e.board.fields))}}function M(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",5),t._uU(2,"Game lost"),t.qZA()())}function B(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",5),t._uU(2,"Game won"),t.qZA()())}function J(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"button",3),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.newGame())}),t._uU(2,"Play again"),t.qZA()()}}let N=(()=>{class o{constructor(){this.board={maxTries:7,fields:4,colors:6,guesses:[],secretCombination:{items:[]}},this.combination={items:[]},this.gameWon=!1,this.gameLost=!1,this.correct=[],this.letters=[],this.tally1=[],this.tally2=[],this.removeIndex=[],this.match=0,this.count=0}ngOnInit(){console.log("board view created"),this.board.secretCombination=this.createSecretCombination();for(let e=0;e<this.board.fields;e++)this.combination.items[e]=1}newGame(){console.log("board view created"),this.board.secretCombination=this.createSecretCombination();for(let e=0;e<this.board.fields;e++)this.combination.items[e]=1;this.board.maxTries=7,this.board.fields=4,this.board.colors=6,this.board.guesses=[],this.gameWon=!1,this.gameLost=!1}onGuess(){console.log("guessed",this.combination);var e=this.evaluateGuess(this.combination);(1+this.board.guesses.length).toString(),e.correct==this.board.fields&&(this.gameWon=!0),this.board.guesses.push(e),!this.gameWon&&this.board.guesses.length==this.board.maxTries&&(this.gameLost=!0)}evaluateGuess(e){console.log("secret: ",this.board.secretCombination);var n={items:[]};this.match=0,this.count=0,this.letters=[];for(let i=0;i<this.board.fields;i++)n.items[i]=e.items[i],this.letters[i]=n.items[i],this.correct[i]=this.board.secretCombination.items[i];this.removeIndex=[],this.letters.forEach((i,f)=>{i==this.correct[f]&&(this.removeIndex.push(f),this.count++)}),this.removeArrayValues(this.letters,this.removeIndex),this.removeArrayValues(this.correct,this.removeIndex),console.log("after processing phase 1...black pegs = ",this.count),this.tally1=[],this.tally2=[];for(var s=1;s<1+this.board.colors;s++){for(var c=0,u=0,l=0;l<this.correct.length;l++)s==this.correct[l]&&c++,s==this.letters[l]&&u++;this.tally1.push(c),this.tally2.push(u)}for(s=0;s<6;s++)this.tally1[s]&&this.tally2[s]&&(this.match++,console.log(this.tally1[s],this.tally2[s],s)),this.tally1[s]>1&&this.tally2[s]>1&&this.match++;var g={combination:n,correct:this.count,correctColors:this.match};return console.log("Guess:",g),g}createSecretCombination(){var e={items:[]};for(let n=0;n<this.board.fields;n++)e.items.push(this.randomNumber(this.board.colors));return e}randomNumber(e){return Math.floor(Math.random()*e)+1}numberArray(e,n){var s=[];for(let c=e;c<=n;c++)s.push(c);return s}removeArrayValues(e,n){for(var s=(n=n.sort()).length-1;s>=0;s--)e.splice(n[s],1);return e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["board"]],standalone:!0,features:[t.jDz],decls:18,vars:7,consts:[["colspan","4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["size","6",2,"width","60px","font-size","20px",3,"ngModel","ngModelChange"],["colspan","6"]],template:function(e,n){1&e&&(t.TgZ(0,"table")(1,"tr")(2,"th"),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Tries"),t.qZA(),t.TgZ(6,"th",0),t._uU(7,"Combination"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Result"),t.qZA()(),t.YNc(10,C,8,4,"tr",1),t.YNc(11,T,6,1,"tr",1),t.YNc(12,y,7,1,"tr",2),t.YNc(13,q,6,1,"tr",2),t.YNc(14,M,3,0,"tr",2),t.YNc(15,B,3,0,"tr",2),t.qZA(),t._UZ(16,"br"),t.YNc(17,J,3,0,"div",2)),2&e&&(t.xp6(10),t.Q6J("ngForOf",n.board.guesses),t.xp6(1),t.Q6J("ngForOf",n.numberArray(n.board.guesses.length+1,n.board.maxTries)),t.xp6(1),t.Q6J("ngIf",!n.gameWon&&!n.gameLost),t.xp6(1),t.Q6J("ngIf",n.gameLost),t.xp6(1),t.Q6J("ngIf",n.gameLost),t.xp6(1),t.Q6J("ngIf",n.gameWon),t.xp6(2),t.Q6J("ngIf",n.gameWon||n.gameLost))},dependencies:[d.ez,d.sg,d.O5,m.u5,m.YN,m.Kr,m.EJ,m.JJ,m.On,p.ot,p.lW,_.c,b.LD]}),o})(),O=(()=>{class o{constructor(){this.title="mastermind"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mastermind"]],standalone:!0,features:[t.jDz],decls:8,vars:0,consts:[[2,"text-align","center"],["role","main",1,"content"]],template:function(e,n){1&e&&(t.TgZ(0,"header")(1,"span",0)(2,"h2"),t._uU(3,"Mastermind"),t.qZA()()(),t.TgZ(4,"div",1),t._UZ(5,"board"),t.TgZ(6,"footer"),t._uU(7," adapted from https://github.com/aabeling/mastermind "),t.qZA()())},dependencies:[d.ez,N],styles:[".content[_ngcontent-%COMP%] {\n      display: flex;\n      \n      flex-direction: column;\n      align-items: center;\n    }\n  \n    footer[_ngcontent-%COMP%] {\n      margin-top: 8px;\n      display: flex;\n      align-items: center;\n      line-height: 20px;\n    }\n  \n    footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      display: flex;\n      align-items: center;\n    }"]}),o})()}}]);