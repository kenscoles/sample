import{b as te}from"./chunk-ZCCIHBDX.js";import"./chunk-VN3CQEPZ.js";import{a as Y,b as $,c as q,d as H,e as J,f as K,g as Q,h as X}from"./chunk-INXXJYLV.js";import{b as A,f as G,h as W,m as U}from"./chunk-QYLBC67G.js";import{e as Z,f as ee}from"./chunk-EEOT6GOD.js";import{d as x}from"./chunk-WPRMUN4H.js";import{D as R}from"./chunk-6Y3XZJEB.js";import{l as z,m as N}from"./chunk-XROEINMK.js";import{$b as L,Ba as h,Db as s,Fb as w,Gb as E,Hb as i,Ib as o,Jb as g,Ob as f,Pb as _,Ya as O,_a as n,_b as a,ac as d,bc as y,da as S,dc as I,ec as T,fc as V,gc as B,hc as D,ic as j,jb as P,lc as F,mc as k,ob as p,yb as C,zc as M}from"./chunk-DQUIX7W4.js";var ne=e=>{let{capital:r,cca3:t,car:c,flags:l,borders:u,currencies:m,name:v,independent:ie,population:oe,timezones:ae,languages:le}=e,re=Object.values(v.nativeName)[0].common,b=Object.values(m)[0],ce=Object.values(le);return{borders:u,capital:r,cca3:t,currency:{name:b.name,symbol:b.symbol},car:c,flags:l,independent:ie,langs:ce,name:{common:v.common,native:re},population:oe,timezones:ae}};var me=(e,r)=>r.code;function de(e,r){if(e&1&&(i(0,"mat-option",6),a(1),o()),e&2){let t=r.$implicit;C("value",t.code),n(),L(t.name)}}function se(e,r){e&1&&(i(0,"h3"),a(1,"Loading ... please wait"),o())}function pe(e,r){e&1&&a(0,"YES")}function ue(e,r){e&1&&a(0,"NO")}function he(e,r){if(e&1&&(i(0,"h2"),a(1),o()),e&2){_();let t=j(0);n(),d("Border(s): ",t.borders.join(", "),"")}}function Ce(e,r){if(e&1&&(B(0),i(1,"h2"),a(2),o(),i(3,"h2"),a(4),o(),i(5,"h2"),a(6,"Independent: "),p(7,pe,1,0)(8,ue,1,0),g(9,"h2"),a(10),F(11,"number"),o(),i(12,"h2"),a(13),o(),i(14,"h2"),a(15),o(),i(16,"h2"),a(17),o(),p(18,he,2,1,"h2"),i(19,"h2"),a(20),o()),e&2){let t=D(_().countryData());n(2),y("",t.name.common," (",t.name.native,")"),n(2),d("Capital: ",t.capital.join(", "),""),n(3),s(t.independent?7:8),n(3),d("Population: ",k(11,12,t.population),""),n(3),d("Drive on the : ",t.car.side," "),n(2),y("Currency: ",t.currency.name," ( ",t.currency.symbol," )"),n(2),d("Timezone(s): ",t.timezones.join(", "),""),n(),s(t.borders?18:-1),n(2),d("Language(s): ",t.langs.join(", "),"")}}function ge(e,r){if(e&1&&g(0,"img",8),e&2){let t=_();C("src",t.countryData().flags.svg,O)}}var Fe=(()=>{class e{constructor(){this.code=h("GB"),this.chosenCode=h("GB"),this.debounceSearchValue=ee(this.chosenCode,2e3),this.country=x(()=>`https://restcountries.com/v3.1/alpha/${this.code()}`),this.codes=x(()=>"https://restcountries.com/v3.1/all?fields=name,cca3"),this.selectedValue="GB",this.result=[],this.isCountryListBuilt=!1,this.countryData=h(""),this.util=S(Z),M(()=>{if(this.country.hasValue()){let t=ne(this.country.value()[0]);this.countryData.set(t),this.isCountryListBuilt||(console.log("select now built"),this.result=this.codes.value().map(c=>({code:c.cca3,name:c.name.common})),this.util.objsort(this.result,"name","asc"),this.isCountryListBuilt=!0)}}),M(()=>{this.code.set(this.debounceSearchValue())})}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=P({type:e,selectors:[["app-country"]],decls:18,vars:5,consts:[[1,"row"],[1,"columnLeft"],[2,"width","100px"],["matInput","",3,"ngModelChange","ngModel"],[1,"divider"],["name","code",3,"ngModelChange","ngModel"],[3,"value"],[1,"columnRight"],[1,"flag",3,"src"]],template:function(c,l){c&1&&(i(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),a(4,"enter code"),o(),i(5,"input",3),f("ngModelChange",function(m){return l.chosenCode.set(m)}),o()(),g(6,"div",4),i(7,"mat-form-field")(8,"mat-label"),a(9,"pick a country"),o(),i(10,"mat-select",5),V("ngModelChange",function(m){return T(l.selectedValue,m)||(l.selectedValue=m),m}),f("ngModelChange",function(){return l.chosenCode.set(l.selectedValue)}),w(11,de,2,2,"mat-option",6,me),o()(),i(13,"p"),p(14,se,2,0,"h3")(15,Ce,21,14),o()(),i(16,"div",7),p(17,ge,1,1,"img",8),o()()),c&2&&(n(5),C("ngModel",l.chosenCode()),n(5),I("ngModel",l.selectedValue),n(),E(l.result),n(3),s(l.country.isLoading()?14:-1),n(),s(l.country.hasValue()?15:-1),n(2),s(l.country.hasValue()?17:-1))},dependencies:[N,z,U,A,G,W,J,H,$,Y,R,q,X,Q,K,te],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.columnLeft[_ngcontent-%COMP%]{float:left;width:60%;padding:10px}.columnRight[_ngcontent-%COMP%]{float:right;width:40%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}@media screen and (max-width: 600px){.columnLeft[_ngcontent-%COMP%], .columnRight[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0;line-height:1.2}}img[_ngcontent-%COMP%]{border:2px solid;width:30%;display:block;margin:5px auto}.container[_ngcontent-%COMP%]{margin:10px;width:40%;background-color:light-yellow}.flag[_ngcontent-%COMP%]{width:50%}.divider[_ngcontent-%COMP%]{width:5px;height:auto;display:inline-block}']})}}return e})();export{Fe as CountryComponent};
