import{a as _,b as E,c as I,d as L}from"./chunk-DKCYGONJ.js";import{e as T}from"./chunk-CZ7D5LTA.js";import{a as D}from"./chunk-WPRMUN4H.js";import{B as M,D as P}from"./chunk-6Y3XZJEB.js";import"./chunk-XROEINMK.js";import{$b as k,Db as m,Eb as w,Fb as S,Gb as j,Hb as r,Ib as o,Jb as O,Kb as b,Ob as h,Pb as d,_a as a,_b as l,ac as v,d as u,db as f,jb as C,la as g,ma as x,ob as p,zb as y}from"./chunk-DQUIX7W4.js";function V(i,s){if(i&1&&l(0),i&2){let t=d();v("Spell a word from these letters. Clue : ",t.clue,"")}}function B(i,s){i&1&&l(0,"You work it out next time!")}function F(i,s){i&1&&l(0,"Well done!")}function A(i,s){if(i&1&&(r(0,"div",5),l(1),o()),i&2){let t=s.$implicit,e=d();y("background-color",e.correctOrder?"pink":"yellow"),a(),k(t)}}function U(i,s){if(i&1){let t=b();r(0,"button",6),h("click",function(){g(t);let n=d();return x(n.cheat())}),l(1,"Give up"),o()}}function Y(i,s){if(i&1){let t=b();r(0,"button",6),h("click",function(){g(t);let n=d();return x(n.prepareData())}),l(1," Play again "),o()}}var K=(()=>{class i{constructor(t,e){this.http=t,this.util=e,this.correctOrder=!1,this.words=[],this.myString="",this.jumbled=[],this.correct=[],this.clue="",this.cheated=!1}ngOnInit(){this.http.get("assets/words.json").subscribe(t=>{this.words=t,this.prepareData()})}prepareData(){this.cheated=!1,this.correctOrder=!1,this.jumbled=[],this.correct=[];let t=this.util.getRand(this.words.length);this.myString=this.words[t].data,this.clue=this.words[t].description,this.correctOrder=!1,this.myString=this.myString.toLocaleUpperCase(),this.jumbled=[...this.myString],this.correct=Array.from(this.jumbled),this.jumbled.sort(),this.myString=this.jumbled.join("");let e=this.correct.join("");this.myString==e&&this.util.sattoloCycle(this.jumbled),console.log(this.jumbled),console.log(this.correct)}drop(t){this.correctOrder=!0,_(this.jumbled,t.previousIndex,t.currentIndex),console.log(`first letter: ${this.jumbled[0]}`);for(let e=0;e<this.jumbled.length;e++)if(this.jumbled[e]!==this.correct[e]){this.correctOrder=!1;break}this.myString=this.jumbled.join(""),this.myString=this.myString.toLocaleLowerCase(),console.log(this.myString),this.words.forEach(e=>{e.data==this.myString&&(this.correctOrder=!0,console.log("YES found a match"))}),this.correctOrder}cheat(){return u(this,null,function*(){return this.cheated=!0,new Promise(t=>u(this,null,function*(){let e=n=>new Promise(c=>setTimeout(c,n));for(let n=0;n<this.correct.length;n++){yield e(1e3);for(let c=n;c<this.jumbled.length;c++)this.correct[n]==this.jumbled[c]&&_(this.jumbled,c,n)}t(),this.correctOrder=!0}))})}static{this.\u0275fac=function(e){return new(e||i)(f(D),f(T))}}static{this.\u0275cmp=C({type:i,selectors:[["app-spelling"]],decls:15,vars:3,consts:[[1,"instruction"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"example-list",3,"cdkDropListDropped"],["cdkDrag","",1,"example-box",3,"background-color"],[1,"centre"],["mat-raised-button","","color","primary"],["cdkDrag","",1,"example-box"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0),p(1,V,1,1)(2,B,1,0)(3,F,1,0),o(),r(4,"div",1),h("cdkDropListDropped",function(z){return n.drop(z)}),S(5,A,2,3,"div",2,w),o(),r(7,"div",3),p(8,U,2,0,"button",4),o(),r(9,"div",3),p(10,Y,2,0,"button",4),o(),O(11,"br")(12,"br"),r(13,"p"),l(14,"For Ben and Ezra 2024"),o()),e&2&&(a(),m(n.correctOrder?n.cheated?2:3:1),a(4),j(n.jumbled),a(3),m(n.correctOrder?-1:8),a(2),m(n.correctOrder?10:-1))},dependencies:[L,I,E,P,M],styles:[".instruction[_ngcontent-%COMP%]{text-align:center;font-size:medium;color:#00f;margin-bottom:20px}.centre[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.example-list[_ngcontent-%COMP%]{width:40%;align-items:center;justify-content:center;max-width:95%;border:solid 1px #ccc;min-height:100px;display:flex;margin:auto;flex-direction:row;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:10px;border-right:solid 2px #ccc;border-left:solid 2px #ccc;border-top:solid 2px #ccc;border-bottom:solid 2px #ccc;color:#0f086d;display:flex;max-width:50px;flex-direction:row;align-items:center;justify-content:center;box-sizing:border-box;cursor:move;font-size:12pt;flex-grow:1;flex-basis:0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.pic[_ngcontent-%COMP%]{display:flex;justify-content:center}p[_ngcontent-%COMP%]{text-align:center}@media all and (max-width: 700px){.example-list[_ngcontent-%COMP%]{width:75%;margin-top:15%}}@media all and (max-width: 450px){.example-list[_ngcontent-%COMP%]{width:90%;margin-top:10%}}"]})}}return i})();export{K as SpellingComponent};
