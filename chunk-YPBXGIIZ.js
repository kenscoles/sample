import{b as te}from"./chunk-ZCCIHBDX.js";import"./chunk-VN3CQEPZ.js";import{a as Y,b as $,c as q,d as H,e as J,f as K,g as Q,h as X}from"./chunk-INXXJYLV.js";import{b as A,f as G,h as W,m as U}from"./chunk-QYLBC67G.js";import{e as Z,f as ee}from"./chunk-EEOT6GOD.js";import{d as M}from"./chunk-WPRMUN4H.js";import{D as R}from"./chunk-6Y3XZJEB.js";import{l as z,m as N}from"./chunk-XROEINMK.js";import{$b as L,Ba as C,Db as s,Fb as E,Gb as w,Hb as i,Ib as o,Jb as _,Ob as f,Pb as u,Ya as O,_a as n,_b as a,ac as m,bc as I,da as S,dc as T,ec as V,fc as B,gc as D,hc as j,ic as y,jb as P,lc as F,mc as k,ob as p,yb as g,zc as x}from"./chunk-DQUIX7W4.js";var ne=e=>{let{capital:r,cca3:t,car:c,flags:l,borders:h,currencies:d,name:v,independent:ie,population:oe,timezones:ae,languages:le}=e,re=Object.values(v.nativeName)[0].common,b=Object.values(d)[0],ce=Object.values(le);return{borders:h,capital:r,cca3:t,currency:{name:b.name,symbol:b.symbol},car:c,flags:l,independent:ie,langs:ce,name:{common:v.common,native:re},population:oe,timezones:ae}};var me=(e,r)=>r.code;function de(e,r){if(e&1&&(i(0,"mat-option",6),a(1),o()),e&2){let t=r.$implicit;g("value",t.code),n(),L(t.name)}}function se(e,r){e&1&&(i(0,"h3"),a(1,"Loading ... please wait"),o())}function pe(e,r){if(e&1&&a(0),e&2){u();let t=y(0);m(" (",t.name.native,") ")}}function ue(e,r){e&1&&a(0,"YES")}function he(e,r){e&1&&a(0,"NO")}function Ce(e,r){if(e&1&&(i(0,"h2"),a(1),o()),e&2){u();let t=y(0);n(),m("Border(s): ",t.borders.join(", "),"")}}function ge(e,r){if(e&1&&(D(0),i(1,"h2"),a(2),p(3,pe,1,1),o(),i(4,"h2"),a(5),o(),i(6,"h2"),a(7,"Independent: "),p(8,ue,1,0)(9,he,1,0),_(10,"h2"),a(11),F(12,"number"),o(),i(13,"h2"),a(14),o(),i(15,"h2"),a(16),o(),i(17,"h2"),a(18),o(),p(19,Ce,2,1,"h2"),i(20,"h2"),a(21),o()),e&2){let t=j(u().countryData());n(2),m("",t.name.common," "),n(),s(t.name.common!==t.name.native?3:-1),n(2),m("Capital: ",t.capital.join(", "),""),n(3),s(t.independent?8:9),n(3),m("Population: ",k(12,12,t.population),""),n(3),m("Drive on the : ",t.car.side," "),n(2),I("Currency: ",t.currency.name," ( ",t.currency.symbol," )"),n(2),m("Timezone(s): ",t.timezones.join(", "),""),n(),s(t.borders?19:-1),n(2),m("Language(s): ",t.langs.join(", "),"")}}function _e(e,r){if(e&1&&_(0,"img",8),e&2){let t=u();g("src",t.countryData().flags.svg,O)}}var ke=(()=>{class e{constructor(){this.code=C("GB"),this.chosenCode=C("GB"),this.debounceSearchValue=ee(this.chosenCode,2e3),this.country=M(()=>`https://restcountries.com/v3.1/alpha/${this.code()}`),this.codes=M(()=>"https://restcountries.com/v3.1/all?fields=name,cca3"),this.selectedValue="GB",this.result=[],this.isCountryListBuilt=!1,this.countryData=C(""),this.util=S(Z),x(()=>{if(this.country.hasValue()){let t=ne(this.country.value()[0]);this.countryData.set(t),this.isCountryListBuilt||(console.log("select now built"),this.result=this.codes.value().map(c=>({code:c.cca3,name:c.name.common})),this.util.objsort(this.result,"name","asc"),this.isCountryListBuilt=!0)}}),x(()=>{this.code.set(this.debounceSearchValue())})}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=P({type:e,selectors:[["app-country"]],decls:18,vars:5,consts:[[1,"row"],[1,"columnLeft"],[2,"width","100px"],["matInput","",3,"ngModelChange","ngModel"],[1,"divider"],["name","code",3,"ngModelChange","ngModel"],[3,"value"],[1,"columnRight"],[1,"flag",3,"src"]],template:function(c,l){c&1&&(i(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),a(4,"enter code"),o(),i(5,"input",3),f("ngModelChange",function(d){return l.chosenCode.set(d)}),o()(),_(6,"div",4),i(7,"mat-form-field")(8,"mat-label"),a(9,"pick a country"),o(),i(10,"mat-select",5),B("ngModelChange",function(d){return V(l.selectedValue,d)||(l.selectedValue=d),d}),f("ngModelChange",function(){return l.chosenCode.set(l.selectedValue)}),E(11,de,2,2,"mat-option",6,me),o()(),i(13,"p"),p(14,se,2,0,"h3")(15,ge,22,14),o()(),i(16,"div",7),p(17,_e,1,1,"img",8),o()()),c&2&&(n(5),g("ngModel",l.chosenCode()),n(5),T("ngModel",l.selectedValue),n(),w(l.result),n(3),s(l.country.isLoading()?14:-1),n(),s(l.country.hasValue()?15:-1),n(2),s(l.country.hasValue()?17:-1))},dependencies:[N,z,U,A,G,W,J,H,$,Y,R,q,X,Q,K,te],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.columnLeft[_ngcontent-%COMP%]{float:left;width:40%;padding:10px;margin:5%}.columnRight[_ngcontent-%COMP%]{float:right;width:40%;padding:10px;margin:5%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}@media screen and (max-width: 600px){.columnLeft[_ngcontent-%COMP%], .columnRight[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0;line-height:1.2}}img[_ngcontent-%COMP%]{border:2px solid;width:30%;display:block;margin:5px auto}.flag[_ngcontent-%COMP%]{width:50%}.divider[_ngcontent-%COMP%]{width:5px;height:auto;display:inline-block}']})}}return e})();export{ke as CountryComponent};
